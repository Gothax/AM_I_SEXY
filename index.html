<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>SEXY</title>
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/style.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="#page-top">SEXY DUO</a>
            <!-- <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
                        <li class="nav-item"><a class="nav-link" href="#signup">Contact</a></li>
                    </ul>
                </div> -->
        </div>
    </nav>
    <!-- Title-->
    <header class="topTitle">
        <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
            <div class="d-flex justify-content-center">
                <div class="text-center">
                    <img class="img-fluid" src="folder/img/squidred.png" alt="..." />
                    <h1 class="text-white mx-auto my-0 text-uppercase">징어 게임</h1>
                    <h2 class="text-white mx-auto mt-2 mb-4">배우 닮은꼴 찾기</h2>
                    <a class="btn btn-primary" href="#about">START</a>
                </div>
            </div>
        </div>
    </header>
    <!-- About-->
    <section class="about-section text-center" id="about">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-lg-8">
                    <h2 class="text-white mb-4">About What</h2>
                    <p class="text-white-50">
                        OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO
                    </p>
                </div>
            </div>
        </div>
    </section>
    <!-- Projects-->
    <section class="projects-section bg-light" id="projects">
        <div class="container px-4 px-lg-5">
            <!-- Featured Project Row-->
            <div class="row gx-0 mb-4 mb-lg-5 align-items-center">
                <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

                <!--upload container contains:  image-upload-wrap,    file-upload-content,    btn-startpredict-->
                <div class="container file-upload">  
                    <button class="file-upload-btn" type="button"
                        onclick="$('.file-upload-input').trigger( 'click' )">upload</button>
                   
                    <div class="image-upload-wrap">
                        <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
                        <div class="drag-text">
                            <h4 style="color:white">사진을 추가해주세요</h4>
                        </div>
                    </div>

                    <div class="file-upload-content">
                        <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                        <div class="txtbox">
                            <h1 class="home-title">
                                <p class="result-message"></p>
                                <p class="result-image"><img id="img_id"></p>
                            </h1>
                        </div>
                        
                              <!--get data from  btn-startpredict::predict() -->
                        <div id="label-container"></div>    <!--this will be removed-->
                        <div class="image-title-wrap">
                            <button type="button" onclick="removeUpload()" class="remove-image">Remove <span
                                    class="image-title"></span></button>
                        </div>
                    </div>

                    <div class="btn-startpredict">
                        <div id="webcam-container"></div>
                        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
                        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
                        <script type="text/javascript">
                            // More API functions here:
                            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image
                            // the link to your model provided by Teachable Machine export panel
                            const URL = "./my_model/";
                            let model, webcam, labelContainer, maxPredictions;
                            // Load the image model and setup the webcam
                            async function init() {
                                const modelURL = URL + "model.json";
                                const metadataURL = URL + "metadata.json";

                                // load the model and metadata
                                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                                // or files from your local hard drive
                                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                                model = await tmImage.load(modelURL, metadataURL);
                                maxPredictions = model.getTotalClasses();

                                // Convenience function to setup a webcam
                                //const flip = true; // whether to flip the webcam
                                //webcam = new tmImage.Webcam(200, 200, flip); // width, height, flip
                                //await webcam.setup(); // request access to the webcam
                                //await webcam.play();
                                //window.requestAnimationFrame(loop);

                                // append elements to the DOM
                                //document.getElementById("webcam-container").appendChild(webcam.canvas);
                                labelContainer = document.getElementById("label-container");
                                for (let i = 0; i < maxPredictions; i++) { // and class labels
                                    labelContainer.appendChild(document.createElement("div"));
                                }
                            }
                            // async function loop() {
                            //     webcam.update(); // update the webcam frame
                            //     await predict();
                            //     window.requestAnimationFrame(loop);
                            // }

                            // run the webcam image through the image model
                            async function predict() {
                                // predict can take in an image, video or canvas html element
                                var image = document.getElementById("face-image");
                                const prediction = await model.predict(image, false);
                                prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                                var resultMessage;
                                switch(prediction[0].className){
                                    case "기훈":
                                        resultMessage = "준형이"
                                        break;
                                    case "상우":
                                        resultMessage = "삼류 허세 찌질남"
                                        break;
                                    case "새벽":
                                        resultMessage = "이정재 애드립에 웃은 사람"
                                        break;
                                    case "경찰":
                                        resultMessage = "멍청이"
                                        break;
                                    case "할아버지":
                                        resultMessage = "조커"
                                        break;
                                    case "깡패":
                                        resultMessage = "돼지육수국밥"
                                        break;
                                    case "미녀":
                                        resultMessage = "앳된 모습의 처녀 빗치"
                                        break;
                                    case "알리":
                                        resultMessage = "듬직한 흑인"
                                        break;
                                    case "이유미":
                                        resultMessage = "고양이"
                                        break;
                                    case "이병헌":
                                        resultMessage = "SNL 세계관 최강자"
                                        break;
                                    case "공유":
                                        resultMessage = "오형서"
                                        $("#img_id").attr("src","folder/img/공유_싸대기.jpg");
                                        break;
                                    case "네모":
                                        resultMessage = "ㅁ"
                                        break;
                                    case "동그라미":
                                        resultMessage = "ㅇ"
                                        break;
                                    case "세모":
                                        resultMessage = "ㅅ"
                                        break;
                                    default:
                                        resultMessage = "당신은 오징어"
                                }                                               
                                $('.result-message').html(resultMessage);       //86줄의 ptag class를 query로 받음 + 이 클래스로 css 작업 부탁드림 
                                for (let i = 0; i < maxPredictions; i++) {       //label-container는 없애는걸로? 일단 수치가 궁금하니 냅두고 나중에 지우기(작업필요x)
                                    const classPrediction =
                                        prediction[i].className + ": " + prediction[i].probability.toFixed(2);
                                    labelContainer.childNodes[i].innerHTML = classPrediction;
                                }
                            }
                        </script>
                    </div>
                </div>
            </div>

                <div class="featured-text text-center text-lg-left">
                    <h4>Notice</h4>
                    <p class="text-white-50 mb-0">Teachable이라는 구글에서 제공하는 기능을 사용했습니다.
                        #SEXY_DUO #AM_I_SEXY
                    </p>
                </div>



            <div class="row gx-0 mb-5 mb-lg-0 justify-content-center">
                <div class="col-lg-6">
                    <div class="bg-black text-center h-100 project">
                        <div class="d-flex h-100">
                            <div class="project-text w-100 my-auto text-center text-lg-left">
                                <h4 class="text-white">Development References</h4>
                                <p class="mb-0 text-white-50">JoCoding
                                    Teachable
                                    Bootstrap
                                    Codepen
                                </p>
                                <hr class="d-none d-lg-block mb-0 ms-0" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>



    <!-- Footer-->
    <footer class="footer bg-black small text-center text-white-50">
        <div class="container px-4 px-lg-5">Copyright &copy; 2021-09-29-0127</div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/face.js"></script>


    <!-- <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>  ?????????????????????????? -->


</body>
<!-- Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)
    
    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
    
    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->


<!--
    Copyright (c) 2021 by Andrés Sánchez (https://codepen.io/sedran/pen/GYPevV)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

-->
</html>